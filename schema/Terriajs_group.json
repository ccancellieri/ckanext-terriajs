{
  "id": "terriajs-group",
  "type": "object",
  "title": "Terria view connector",
  "required": [
    "items","id","type"
  ],
  "default": [
    "items"
  ],
  "properties":{
    "id":{
      "type":"string"
    },
    "type": {
      "type": "string",
      "enum": [
        "terriajs-group"
      ]
    },
    "description": {
      "title": "Description",
      "type": "string",
      "format": "jodit"
    },
    "preserveOrder": {
      "type": "boolean",
      "default": true
    },
    "items":{
      "id": "items",
      "type":"array",
      "format":"table",
      "minItems": 1,
      "items":{
        "type": "object",
        "id": "terriajs-item",
        "required": [
          "type","id"
        ],
        "format": "grid-strict",
        "properties":{
          "type":{ 
            "type":"string",
            "enum":["terriajs-view"],
            "options": {
              "grid_columns": 3
            }
          },
          "id":{
            "title": "id",
            "type": "string",
            "description": "Terria view (autocomplete)",
            "format": "autocomplete",
            "options": {
                "autocomplete": {
                    "search": "view_search",
                    "getResultValue": "view_getValue",
                    "renderResult": "view_renderer",
                    "autoSelect": true
                },
                "grid_columns": 3
            },
            "links": [
              {
                "href": "/terriajs/config/{{self}}.json",
                "mediaType": "application/json",
                "rel": "go to..."
              }
            ]
          },
          "desc":{
            "title": "description",
            "type": "string",
            "format": "string",
            "description": "Description",
            "watch": {
              "id": "terriajs-item.id"
            },
            "template": "view_template",
            "options": {
              "grid_columns": 8
            }
          }
        }
      }
    }
  },
  "allOf": [
    {
      "$ref": "https://content-storage.googleapis.com/download/storage/v1/b/fao-maps-terriajs-schema/o/CatalogMember.json?&alt=media"
    },
    {
      "$ref": "https://content-storage.googleapis.com/download/storage/v1/b/fao-maps-terriajs-schema/o/CatalogGroup.json?&alt=media"
    }
  ]
}
